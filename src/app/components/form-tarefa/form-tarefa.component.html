<mat-card class="mat-elevation-z4 content-card">
  <mat-card-header class="card-header">
    <mat-card-title class="card-title">
      {{ data?.tarefa ? 'Editar Tarefa' : 'Nova Tarefa' }}
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="salvar()" class="form-tarefa">

      <!-- Campo Título -->
      <div class="form-grid">
        <label for="titulo">Título:</label>
        <mat-form-field appearance="fill" style="width: 100%;">
          <input matInput id="titulo" formControlName="titulo" maxlength="50" />
          <mat-error *ngIf="form.get('titulo')?.hasError('required') && (form.get('titulo')?.touched || submitted)">
            Informe o título da tarefa
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Campo Descrição -->
      <div class="form-grid">
        <label for="descricao">Descrição:</label>
        <mat-form-field appearance="fill" style="width: 100%;">
          <input matInput id="descricao" formControlName="descricao" maxlength="100" />
          <mat-error
            *ngIf="form.get('descricao')?.hasError('required') && (form.get('descricao')?.touched || submitted)">
            Informe a descrição da tarefa
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Status -->
      <mat-form-field appearance="fill" class="select-full">
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          <mat-option value="PENDENTE">Pendente</mat-option>
          <mat-option value="EM ANDAMENTO">Em andamento</mat-option>
          <mat-option value="CONCLUÍDA">Concluída</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Prioridade -->
      <mat-form-field appearance="fill" class="select-full">
        <mat-label>Prioridade</mat-label>
        <mat-select formControlName="prioridade">
          <mat-option value="BAIXA">Baixa</mat-option>
          <mat-option value="MÉDIA">Média</mat-option>
          <mat-option value="ALTA">Alta</mat-option>
        </mat-select>
      </mat-form-field>

      <div class="form-actions">
        <button mat-button (click)="cancelar()">Cancelar</button>
        <button mat-raised-button color="primary" type="submit">Salvar</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>